<% title "Transcriber Registration" %>
<h1 class="title ">Transcriber Registration</h1>
<div class="grid">
  <div class="grid__item two-thirds lap-one-half palm-one-whole">
    <div class="read-length">
      <p>Thank you for volunteering as a transcriber for FreeReg. To join one of our existing teams of transcribers (we call them syndicates), fill in this form with your details: we will not share them with any outside organisation.</p>
      <p>Then select a team from the list of <q>Syndicates available</q>.</p>
      <p>After successfully submitting the form, you will receive an email that contains a link to complete the registration process. Click on that link or copy and paste it into you browser&rsquo;s address window. You must respond to the email <em>within 24 hours</em>. If you have not received it within a few minutes, please check your spam folder.</p>
      <p>Begin with the documents linked in the form. If you have any questions about the documents or about transcribing, please <%= link_to 'contact us','/contacts/new', target: '_blank' %> (link opens in new tab).</p>
    </div>
  </div>
  <aside class="grid__item one-third lap-one-half palm-one-whole">
    <a href="/contacts/new" class="banner banner--navy" title="Contact us">
      <h2 class="banner__title">Questions? Data?</h2>
      <p class="banner__body">For more information before you register, or if you have some data to contribute, please <b>Contact Us</b>, selecting the <q>Volunteer</q> option in that form.</p>
    </a>
  </aside>
</div>
<% if flash[:notice] %>
  <div class="weight--semibold push--bottom" style="color: #a1185a;">
    <%= flash[:notice] %>  <% flash[:notice] = nil %>
  </div>
<% end %>
<% if @userid.errors.any? %>
  <h2 class="gamma"> You have <%= pluralize(@userid.errors.count, "error") %>:  please review</h2>
  <ul class="validation-list">
    <% @userid.errors.full_messages.each do |msg| %>
      <li class="validation-list__error" ><%= msg %></li>
    <% end %>
  </ul>
  <%@userid.errors.clear%>
<% end %>

<%= semantic_form_for @userid do |f| %>
  <div class="grid">
    <div class= "grid__item two-thirds lap-four-fifths palm-one-whole">
      <fieldset>
        <legend>Volunteer documents</legend>
        <p class="push-half--bottom">We need you to read and agree to these documents:</p>
        <label for="userid_detail_new_transcription_agreement">
          <%= f.check_box :new_transcription_agreement %>
          I have read and hereby sign, the <%= link_to 'Transcription Agreement (pdf)', "http://www.freeukgenealogy.org.uk/files/Documents/FreeUKGenealogyTranscriptionAgreement.pdf", target: '_blank', title: "View or download the Agreement" %> <span class="weight--normal">(link opens in new tab)</span>
        </label>
        <label for="userid_detail_volunteer_induction_handbook">
          <%= f.check_box :volunteer_induction_handbook %>
          I have read and hereby sign, the <%= link_to 'Volunteer Induction Handbook (pdf)', 'http://www.freeukgenealogy.org.uk/files/Documents/VolunteerInductionHandbook.pdf', title: "View or download the Volunteer Induction Handbook", target: '_blank' %> <span class="weight--normal">(link opens in new tab)</span>
        </label>
        <label for="userid_detail_code_of_conduct">
          <%= f.check_box :code_of_conduct %>
          I have read, and agree to abide by, the <em>Code of Conduct</em> (<%= link_to 'pdf', "http://www.freeukgenealogy.org.uk/files/Documents/Code-of-Conduct.pdf", title: "View or download the Code of Conduct (pdf)", target: '_blank' %>, <%= link_to 'docx', "http://www.freeukgenealogy.org.uk/files/Documents/Code-of-Conduct.docx", title: "Download the Code of Conduct (Word Document)" %>) <span class="weight--normal">(pdf opens in new tab)</span>
        </label>
      </fieldset>
    </div>
  </div>
  <fieldset class="inputs">
    <legend>Your details</legend>
    <ol class="grid">
      <li class="grid__item one-third lap-one-half palm-one-whole">
        <label class="label ttip" for="forename" tabindex="0">Forename
          <%= image_tag 'info.png', alt: 'Info', height: '16' %>
          <span class="ttip__text">Required. Your forename for when we contact you</span>
        </label>
        <% if @userid.person_forename.nil? %>
        <input id="forename" name="userid_detail[person_forename]" type="text" class="text-input" placeholder="Required">
        <% else %>
        <input id="forename" name="userid_detail[person_forename]" type="text" class="text-input" value="<%=@userid.person_forename%>">
        <% end %>
      </li>
      <li class="grid__item one-third lap-one-half palm-one-whole">
        <label class="label ttip" for="surname" tabindex="0">Surname
          <%= image_tag 'info.png', alt: 'Info', height: '16' %>
          <span class="ttip__text">Required. Your surname for when we contact you</span>
        </label>
        <% if @userid.person_surname.nil? %>
        <input id="surname" name="userid_detail[person_surname]" type="text" class="text-input" placeholder="Required">
        <% else %>
        <input id="surname" name="userid_detail[person_surname]" type="text" class="text-input" value="<%=@userid.person_surname%>">
        <% end %>
      </li>
      <li class="grid__item one-third lap-one-half palm-one-whole">
        <label class="label ttip" for="email_address" tabindex="0">Your email address
          <%= image_tag 'info.png', alt: 'Info', height: '16' %>
          <span class="ttip__text">Required. Your email address so we can contact you: it will not be made public</span>
        </label>
        <% if @userid.email_address.nil? %>
        <input id="email_address" name="userid_detail[email_address]" type="text" class="text-input" placeholder="Required" required="required">
        <% else%>
        <input id="email_address" name="userid_detail[email_address]" type="text" class="text-input" value="<%=@userid.email_address%>">
        <% end%>
      </li>
      <li class="grid__item one-third lap-one-half palm-one-whole">
        <label class="label ttip" for="username" tabindex="0">User name (UserID)
          <%= image_tag 'info.png', alt: 'Info', height: '16' %>
          <span class="ttip__text">Required. A <em>unique</em> way to identify you. Letters and numbers <em>only</em>. Any length</span>
        </label>
        <% if @userid.userid.nil? %>
        <input id="username" name="userid_detail[userid]" type="text" class="text-input" placeholder="Required">
        <% else %>
        <input id="username" name="userid_detail[userid]" type="text" class="text-input" value="<%=@userid.userid%>">
        <% end %>
      </li>
      <li class="grid__item one-third lap-one-half palm-one-whole">
        <label class="label ttip" for="location" tabindex="0">Location
          <%= image_tag 'info.png', alt: 'Info', height: '16' %>
          <span class="ttip__text">Optional. The country you live in: this helps us if we need to contact you</span>
        </label>
        <% if @userid.address.nil? %>
        <input id="location" name="userid_detail[address]" type="text" class="text-input" placeholder="Optional">
        <% else %>
        <input id="location" name="userid_detail[address]" type="text" class="text-input" value="<%= @userid.address %>">
        <% end %>
      </li>
      <li class="grid__item one-third lap-one-half palm-one-whole">
        <label class="label ttip" for="phone" tabindex="0">Phone Number
          <%= image_tag 'info.png', alt: 'Info', height: '16' %>
          <span class="ttip__text">Optional. Used only if we need to talk to you. Give country code if not UK</span>
        </label>
        <% if @userid.telephone_number.nil? %>
        <input id="phone" name="userid_detail[telephone_number]" type="text" class="text-input" placeholder="Optional">
        <% else %>
        <input id="phone" name="userid_detail[telephone_number]" type="text" class="text-input" value="<%= @userid.telephone_number %>">
        <% end %>
      </li>
      <li class="grid__item seven-twelfths lap-one-whole palm-one-whole">
        <label class="label ttip" for="syndicate" tabindex="0">Syndicates available
          <%= image_tag 'info.png', alt: 'Info', height: '16' %>
          <span class="ttip__text">Select a syndicate to work with. If you are in doubt, select the <q>England, rest of</q> group &mdash; you can move later depending upon your interests</span>
          <small class="additional">Required</small>
        </label>
        <select id="syndicate" name="userid_detail[syndicate]" class="select" required="required" size="5">
          <% @syndicates.each do |value| %>
            <% if value == @userid.syndicate %>
              <option value="<%=value%>" selected="selected" ><%=value%></option>
            <% else %>
              <option value="<%=value%>" ><%=value%></option>
            <% end %>
          <% end %>
        </select>
      </li>
      <li class="betterstyling grid__item seven-twelfths lap-one-whole palm-one-whole">
        <label class="label ttip" for="<%= @userid[:honeypot] %>" > Leave this field blank </label> 
        <input type="text" id="<%= @userid[:honeypot] %>" name="<%= @userid[:honeypot] %>">
        <input type="hidden" id="__TIME" name="__TIME" value="<%= Time.now %>" />
      </li>     
      <%= f.action :submit, :as => :input, :label => 'Register as Transcriber', 
        :button_html => { :class => "btn", :type => 'submit' },
        :wrapper_html => { :class => "grid__item one-whole" } %>
    </ol>
  </fieldset>
<% end %>
<div class="grid">
  <aside class="grid__item one-whole">
    <div class = "adsense_box push--ends">
      <p class = "text--center">Advertisement</p>
      <%= fullwidth_adsense %>
    </div>
  </aside>
</div>