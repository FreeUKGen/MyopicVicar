<html>
<p>Hello Everyone,</p>
<p>Please find the upload report for the month of <%= @start_date.strftime('%B')%></p>
<div class="scrollable">
  <table style="border: 1px solid black;">
    <caption>
      <strong>Basic information</strong>
    </caption>
    <thead>
      <tr>
        <th scope="col" style="border: 1px solid black;">Detail</th>
        <th scope="col" style="border: 1px solid black;">Count</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th scope="row" style="border: 1px solid black;">Total active transcribers</th>
        <td style="border: 1px solid black;"><%= @active_transcribers_count %></td>
      </tr>
      <tr>
        <th scope="row" style="border: 1px solid black;">Number of transcribers with their email address confirmed in this period.</th>
        <td style="border: 1px solid black;"><%= @email_confimed %></td>
      </tr>
    </tbody>
  </table>
</div>

<div class="scrollable">
  <table style="border: 1px solid black;">
    <caption>
      <strong><p>Upload report by members</p></strong>
    </caption>
    <tr>
      <th style="border: 1px solid black;">Time Period</th>
      <th style="border: 1px solid black;">Roles</th>
      <th style="border: 1px solid black;">Upload Count</th>
    </tr>
    <% @uploaders_count.each do |u| %>
      <tr>
        <td style="border: 1px solid black;"><%= "#{@start_date.to_date.strftime("%B, %d, %Y")} - #{@end_date.to_date.strftime("%B, %d, %Y")}" %></td>
        <td style="border: 1px solid black;">
            <%= u[0].split('_').map(&:titlecase).join(' ') %>
        </td>
        <td style="border: 1px solid black;"><%= u[1] %></td>
      </tr>
    <% end %>
  </table>
</div>
</html> 
